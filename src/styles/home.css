/* Home Page Styles - Modern Grid System */

/* ========================================
   1. CONTAINER SETUP - CSS Grid Layout
   ======================================== */

.home-wrapper {
  display: grid;
  grid-template-columns: 
    [full-start] minmax(20px, 1fr)
    [content-start] minmax(0, 1400px)
    [content-end] minmax(20px, 1fr)
    [full-end];
  position: relative;
  min-height: 100vh;
  overflow: hidden;
}

/* ========================================
   2. FLOWER BACKGROUND - Responsive Positioning
   ======================================== */

.overgrown-specimen {
  /* Span full width and height */
  grid-column: full-start / full-end;
  grid-row: 1;
  
  /* Position relative to allow for proper centering */
  position: absolute;
  top: 21vh; /* Position flower head to align with hero content */
  left: 50%;
  
  /* Flower sizing - responsive using CSS custom properties */
  --flower-height: 300vh; /* 3x viewport height */
  --flower-horizontal-offset: 3%; /* Slight offset to the right */
  --base-opacity: 1.0; /* Base opacity, modified by media queries */
  --scroll-opacity: 1.0; /* Scroll multiplier, set by JavaScript */
  
  height: var(--flower-height);
  width: auto;
  max-width: none;
  
  /* Center horizontally with offset */
  transform: translateX(calc(-50% + var(--flower-horizontal-offset)));
  
  z-index: 100; /* High z-index to appear above hero and sticky notes */
  pointer-events: none;
  
  /* Opacity: multiply width-based and scroll-based */
  opacity: calc(var(--base-opacity) * var(--scroll-opacity));
  transition: opacity 0.3s ease, top 0.4s ease; /* Smooth transitions */
  
  /* Performance optimization */
  will-change: opacity, top;
}

.overgrown-specimen img {
  height: 100%;
  width: auto;
  display: block;
  filter: sepia(0.35) brightness(0.75) contrast(1.2);
  transform: rotate(-118deg);
  transform-origin: center center;
}

/* Width-based opacity - dramatic fade from 2-column to 1-column */
/* Stays at 100% in 2-column, drops dramatically as width decreases */

@media (max-width: 1400px) {
  .overgrown-specimen {
    --base-opacity: 1.0; /* Still full opacity */
  }
}

@media (max-width: 1300px) {
  .overgrown-specimen {
    --base-opacity: 0.85; /* Start fading */
  }
}

@media (max-width: 1220px) {
  .overgrown-specimen {
    --base-opacity: 0.60; /* Faster drop */
  }
}

@media (max-width: 1180px) {
  .overgrown-specimen {
    --base-opacity: 0.40; /* Continue dropping */
  }
}

/* Layout switches to single column at 1150px */
/* Drop to 20% at single column for text readability */

@media (max-width: 1150px) {
  .overgrown-specimen {
    --base-opacity: 0.20; /* Very transparent at single column */
  }
}

@media (max-width: 900px) {
  .overgrown-specimen {
    --base-opacity: 0.18; /* Slightly less on smaller screens */
  }
}

@media (max-width: 700px) {
  .overgrown-specimen {
    --base-opacity: 0.15;
  }
}

@media (max-width: 500px) {
  .overgrown-specimen {
    --base-opacity: 0.12; /* Very subtle on mobile */
  }
}

/* Adjust flower position on very large screens */
@media (min-width: 1600px) {
  .overgrown-specimen {
    --flower-horizontal-offset: 4%; /* Shift right to align with gap between notes */
    top: 13vh;
  }
}

/* Ultra-wide screens - shift further right */
@media (min-width: 1920px) {
  .overgrown-specimen {
    --flower-horizontal-offset: 4%; /* Shift more right on ultra-wide displays */
    top: 13vh;
  }
}

/* Fine-tune for medium screens */
@media (min-width: 1200px) and (max-width: 1599px) {
  .overgrown-specimen {
    --flower-horizontal-offset: 2%;
    top: 21vh;
  }
}

/* Transition zone - 2-column layout but narrower */
@media (min-width: 1151px) and (max-width: 1199px) {
  .overgrown-specimen {
    --flower-horizontal-offset: 1%;
    top: 19vh;
    /* Opacity controlled by width-based media queries above */
  }
}

/* ========================================
   3. HERO SECTION - Grid-based Layout
   ======================================== */

.hero-section {
  /* Grid positioning */
  grid-column: content-start / content-end;
  grid-row: 1;
  
  /* Fill viewport on load - account for header/nav height */
  min-height: 85vh; /* Reduced from 100vh to account for header */
  display: grid;
  align-content: center;
  padding: 2rem;
  
  position: relative;
  z-index: 2; /* Below flower for unfiltered appearance */
  
  /* Semi-transparent to show flower */
  background-color: rgba(244, 241, 234, 0.75);
  border-radius: 4px;
  margin: 0.5rem 0; /* Reduced top margin - closer to top */
}

.hero-content {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 3rem;
  align-items: center;
  width: 100%;
  /* Prevent early wrapping */
  min-width: 0;
}

/* ========================================
   4. FLOWER HEAD DISPLAY (Left Side)
   ======================================== */

.specimen-display {
  grid-column: 1 / 6; /* 5 columns for flower head */
  position: relative;
  min-height: 45vh;
  
  /* Create a window to show the flower head behind */
  display: flex;
  justify-content: center;
  align-items: center;
  
  /* Fully transparent - let flower show through unfiltered */
  background-color: transparent;
  border-radius: 4px;
  
  /* Optional: Add subtle border for visual separation during development */
  /* border: 2px dashed rgba(180, 160, 120, 0.3); */
}

/* Visual vignette effect - subtle darkening at edges */
.specimen-display::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 50%,
    rgba(244, 241, 234, 0.3) 100%
  );
  pointer-events: none;
  border-radius: 4px;
}

/* ========================================
   5. HERO TEXT (Right Side)
   ======================================== */

.hero-text {
  grid-column: 7 / 13; /* 6 columns for text */
  display: flex;
  flex-direction: column;
  gap: 2rem;
  background-color: rgba(244, 241, 234, 0.95);
  padding: 3rem;
  border-radius: 8px;
  box-shadow: 
    0 4px 6px rgba(0,0,0,0.05),
    0 8px 16px rgba(0,0,0,0.1);
}

.hero-title {
  font-family: var(--font-serif);
  font-size: 3.5rem;
  line-height: 1.1;
  color: var(--ink-black);
  font-weight: 700;
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.title-word {
  display: inline-block;
}

.hero-subtitle {
  font-size: 1.2rem;
  line-height: 1.6;
  color: var(--ink-brown);
  max-width: 600px;
}

.btn-hero {
  align-self: flex-start;
}

/* ========================================
   6. CONTENT SECTIONS - Standardized Grid
   ======================================== */

/* All main content sections */
.expertise-section,
.publications-section,
.blog-section,
.contact-panel {
  /* Grid positioning */
  grid-column: content-start / content-end;
  position: relative;
  z-index: 2; /* Below flower (z-index: 100) for unfiltered appearance */
  
  /* Semi-transparent background to show flower weaving */
  background-color: rgba(244, 241, 234, 0.85);
  padding: 4rem 2rem;
  margin: 1.5rem 0;
  border-radius: 4px;
  
  /* Subtle shadow for depth */
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.expertise-section {
  background-color: rgba(244, 241, 234, 0.75); /* More transparent to show flower */
}

.section-title {
  text-align: left;
  font-family: var(--font-mono);
  font-size: 1.5rem;
  color: var(--ink-black);
  margin-bottom: 3rem;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  border-bottom: 2px solid rgba(180, 160, 120, 0.5);
  display: inline-block;
  padding-bottom: 0.5rem;
  position: relative;
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 40%;
  height: 2px;
  background: linear-gradient(90deg, rgba(212, 175, 55, 0.6), transparent);
}

/* ========================================
   7. EXPERTISE GRID - Flexible Auto-fit System
   ======================================== */

.expertise-grid {
  display: grid;
  /* Flexible columns: 4 → 2 → 1 based on available space */
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  max-width: 1200px;
  margin: 2rem auto 0;
}

/* Force 4 columns on large screens */
@media (min-width: 1200px) {
  .expertise-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* Force 2 columns on medium screens */
@media (min-width: 768px) and (max-width: 1199px) {
  .expertise-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

.expertise-box {
  background-color: rgba(227, 213, 176, 0.95);
  border: 1px solid #c2b280;
  padding: 2.5rem 1.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
  transform: rotate(0deg);
}

/* Sticky Note Effect */
.sticky-note {
  background: linear-gradient(135deg, #fef9e7 0%, #f9f3d9 100%);
  border: none;
  box-shadow: 
    0 4px 6px rgba(0,0,0,0.1),
    0 1px 3px rgba(0,0,0,0.08);
}

.sticky-note::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 0 30px 30px 0;
  border-color: transparent #e8ddb5 transparent transparent;
  box-shadow: -2px 2px 3px rgba(0,0,0,0.15);
}

.expertise-box:nth-child(odd) {
  transform: rotate(-2deg);
}

.expertise-box:nth-child(even) {
  transform: rotate(2deg);
}

.sticky-note:nth-child(1) {
  transform: rotate(-3deg);
}

.sticky-note:nth-child(3) {
  transform: rotate(2deg);
}

.sticky-note:nth-child(4) {
  transform: rotate(-2.5deg);
}

.expertise-box:hover {
  transform: rotate(0deg) translateY(-5px) scale(1.02);
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

.sticky-note:hover {
  transform: rotate(0deg) translateY(-10px) scale(1.05);
  box-shadow: 
    0 15px 35px rgba(0,0,0,0.2),
    0 5px 15px rgba(0,0,0,0.12);
}

.expertise-icon {
  width: 140px;
  height: 140px;
  margin-bottom: 1.5rem;
  color: var(--ink-black);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.expertise-icon svg {
  width: 100%;
  height: 100%;
}

.expertise-flower {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: sepia(0.1) brightness(0.95);
  transition: filter 0.3s ease;
}

.expertise-box:hover .expertise-flower {
  filter: sepia(0) brightness(1);
}

.expertise-box-invisible {
  opacity: 0;
  pointer-events: none;
}

.expertise-title {
  font-family: var(--font-serif);
  font-size: 1.5rem;
  color: var(--ink-black);
  margin-bottom: 1rem;
  font-weight: 700;
  text-transform: uppercase;
}

.expertise-label {
  font-size: 0.95rem;
  color: var(--ink-brown);
  line-height: 1.5;
  font-family: var(--font-mono);
  text-transform: uppercase;
  letter-spacing: 0.03em;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.sticky-subtitle {
  font-size: 0.95rem;
  color: var(--ink-brown);
  line-height: 1.5;
  font-family: var(--font-body);
  font-style: italic;
  margin-top: 0.75rem;
  text-transform: none;
  font-weight: 400;
}

/* ========================================
   8. PUBLICATIONS & BLOG SECTIONS
   ======================================== */

.publications-section {
  background-color: rgba(244, 241, 234, 0.88);
  z-index: 150; /* Above flower (100) so widgets appear on top */
}

.blog-section {
  z-index: 150; /* Above flower (100) so widgets appear on top */
}

/* Publications Widget Wrapper - Custom styling to match site theme */
.publications-widget-wrapper {
  /* Match site colors and typography */
  --pubsync-primary: #5c4d3c; /* var(--ink-brown) */
  --pubsync-text: #2c241b; /* var(--ink-black) */
  --pubsync-text-secondary: #5c4d3c; /* var(--ink-brown) */
  --pubsync-bg: rgba(254, 253, 251, 0.95); /* Match card backgrounds */
  --pubsync-bg-subtle: rgba(244, 241, 234, 0.85); /* Match section backgrounds */
  --pubsync-border: rgba(227, 213, 176, 0.95); /* Match sticky note borders */

  /* Match site fonts */
  --pubsync-font: 'Playfair Display', Georgia, serif;
  --pubsync-font-mono: 'Special Elite', 'Courier New', monospace;

  /* Even tighter spacing for compact layout */
  --pubsync-space-1: 1px; /* Minimal extra small space */
  --pubsync-space-2: 4px; /* Minimal small space */
  --pubsync-space-3: 6px; /* Minimal medium small space */
  --pubsync-space-4: 8px; /* Minimal medium space */
  --pubsync-space-5: 12px; /* Minimal medium large space */
  --pubsync-space-6: 16px; /* Minimal large space */

  /* Smaller text sizes for maximum compactness */
  --pubsync-text-sm: 12px;
  --pubsync-text-base: 13px;
  --pubsync-text-lg: 14px; /* Subtitle font size */

  /* Custom header sizing */
  --pubsync-text-2xl: 22px; /* Smaller header */
}

/* Fix DOI LINK contrast - corrected selector */
.publications-widget-wrapper .pubsync-export-btn,
.publications-widget-wrapper .pubsync-doi-link, /* ← Fixed: was .pubsync-doi-btn */
.publications-widget-wrapper button,
.publications-widget-wrapper .pubsync-widget button,
.publications-widget-wrapper .pubsync-widget a { /* ← Added for all links */
  background: #ffffff !important;
  background-color: #ffffff !important;
  background-image: none !important;
  color: #2c241b !important;
  border: 1px solid #d3c4a5 !important;
  font-weight: 500 !important;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1) !important;
  text-shadow: none !important;
}

.publications-widget-wrapper .pubsync-export-btn:hover,
.publications-widget-wrapper .pubsync-doi-link:hover, /* ← Fixed: was .pubsync-doi-btn */
.publications-widget-wrapper button:hover,
.publications-widget-wrapper .pubsync-widget button:hover,
.publications-widget-wrapper .pubsync-widget a:hover { /* ← Added for all links */
  background: #f8fafc !important;
  background-color: #f8fafc !important;
  background-image: none !important;
  color: #2c241b !important;
  border-color: #b8c5d6 !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.15) !important;
}

/* Extra specificity for stubborn widget elements */
.publications-widget-wrapper div[data-lab-id] button,
.publications-widget-wrapper div[data-lab-id] .pubsync-export-btn,
.publications-widget-wrapper div[data-lab-id] .pubsync-doi-link, /* ← Fixed: was .pubsync-doi-btn */
.publications-widget-wrapper div[data-lab-id] a {
  background: #ffffff !important;
  background-color: #ffffff !important;
  background-image: none !important;
  color: #2c241b !important;
  border: 1px solid #d3c4a5 !important;
}

/* Minimize padding on publication cards for ultra-tight spacing */
.publications-widget-wrapper .pubsync-publication-card {
  padding: 8px !important;
  margin-bottom: 8px !important;
}

/* Make publication titles even smaller */
.publications-widget-wrapper .pubsync-pub-title { /* ← Fixed: was .pubsync-publication-title */
  font-size: 13px !important;
  line-height: 1.3 !important;
  margin-bottom: 4px !important;
}

/* Minimize spacing between publication elements */
.publications-widget-wrapper .pubsync-pub-meta {
  margin-top: 4px !important;
  margin-bottom: 4px !important;
  font-size: 12px !important;
}

/* Reduce button sizes and spacing */
.publications-widget-wrapper .pubsync-export-btn,
.publications-widget-wrapper .pubsync-doi-link { /* ← Fixed: was .pubsync-doi-btn */
  padding: 4px 8px !important;
  font-size: 11px !important;
  margin-right: 4px !important;
}

/* Tighten overall widget container spacing */
.publications-widget-wrapper .pubsync-widget {
  margin: 0 !important;
  padding: 0 !important;
}

/* Custom styling for widget header */
.publications-widget-wrapper .pubsync-lab-name {
  color: #2c241b !important; /* Site's ink-black color */
  text-shadow: 1px 1px 2px rgba(0,0,0,0.1) !important; /* Subtle shadow */
  border-bottom: 2px solid #d4af37 !important; /* Gold underline */
  padding-bottom: 4px !important;
  font-size: 18px !important; /* Custom size */
  font-weight: 700 !important; /* Custom weight */
  text-transform: uppercase !important; /* Custom styling */
  letter-spacing: 1px !important; /* Custom spacing */
}

.publications-widget-wrapper .pubsync-count {
  color: #666 !important;
  font-weight: 400 !important;
  text-transform: lowercase !important;
  font-size: 14px !important;
  font-style: italic !important;
}

/* Custom scrollbar styling for publications widget */
.publications-widget-wrapper .pubsync-widget::-webkit-scrollbar {
  width: 8px;
}

.publications-widget-wrapper .pubsync-widget::-webkit-scrollbar-track {
  background: rgba(244, 241, 234, 0.85);
  border-radius: 4px;
}

.publications-widget-wrapper .pubsync-widget::-webkit-scrollbar-thumb {
  background: rgba(180, 160, 120, 0.6);
  border-radius: 4px;
  transition: background 0.2s ease;
}

.publications-widget-wrapper .pubsync-widget::-webkit-scrollbar-thumb:hover {
  background: rgba(180, 160, 120, 0.8);
}

.blog-section {
  background-color: rgba(244, 241, 234, 0.9);
  display: none; /* Hidden by default */
  /* z-index set above in section 8 */
}

/* Blog Posts Wrapper */
.blog-posts-wrapper {
  max-width: 100%;
}

/* Blog Posts Grid */
.blog-posts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  margin-bottom: 2rem;
}

/* Blog Post Card - Herbarium Card Style */
.blog-post-card {
  background: linear-gradient(135deg, rgba(254, 253, 251, 0.98) 0%, rgba(249, 247, 242, 0.95) 100%);
  border: 2px solid rgba(180, 160, 120, 0.6);
  border-radius: 2px;
  padding: 1.5rem;
  box-shadow: 
    2px 2px 0 rgba(0,0,0,0.05),
    4px 4px 12px rgba(0,0,0,0.08);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  transform: rotate(0deg);
}

/* Add paper clip effect to alternating cards */
.blog-post-card:nth-child(odd)::before {
  content: '';
  position: absolute;
  top: -8px;
  right: 20px;
  width: 24px;
  height: 8px;
  background: linear-gradient(to bottom, #a8a8a8 0%, #c0c0c0 50%, #a8a8a8 100%);
  border-radius: 30% 30% 50% 50% / 60% 60% 40% 40%;
  box-shadow: 
    inset 0 1px 1px rgba(255,255,255,0.4),
    0 2px 3px rgba(0,0,0,0.2);
  z-index: 10;
}

.blog-post-card:nth-child(odd)::after {
  content: '';
  position: absolute;
  top: -6px;
  right: 23px;
  width: 18px;
  height: 6px;
  background: linear-gradient(to bottom, #888 0%, #aaa 50%, #888 100%);
  border-radius: 30% 30% 50% 50% / 60% 60% 40% 40%;
  box-shadow: inset 0 1px 1px rgba(0,0,0,0.3);
}

/* Slight rotation for variety */
.blog-post-card:nth-child(1) {
  transform: rotate(-0.8deg);
}

.blog-post-card:nth-child(2) {
  transform: rotate(0.6deg);
}

.blog-post-card:nth-child(3) {
  transform: rotate(-0.5deg);
}

.blog-post-card:hover {
  transform: rotate(0deg) translateY(-5px) scale(1.01);
  box-shadow: 
    0 4px 0 rgba(0,0,0,0.05),
    0 8px 20px rgba(0,0,0,0.12);
}

/* Blog Post Title */
.blog-post-title {
  font-size: 1rem;
  font-weight: 600;
  margin: 0 0 0.75rem 0;
  line-height: 1.3;
  color: var(--ink-black);
}

.blog-post-link {
  color: var(--ink-black);
  text-decoration: none;
  transition: color 0.2s ease;
}

.blog-post-link:hover {
  color: var(--ink-brown);
}

/* Blog Post Excerpt */
.blog-post-excerpt {
  font-size: 0.85rem;
  line-height: 1.5;
  color: var(--ink-brown);
  margin-bottom: 1rem;
}

.blog-post-excerpt p {
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-clamp: 3; /* Standard property for line clamping */
}

.blog-post-excerpt a {
  color: var(--ink-brown);
  text-decoration: underline;
}

/* Blog Post Date */
.blog-post-date {
  font-size: 0.75rem;
  color: var(--brown-light);
  font-family: var(--font-mono);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Blog View All Link */
.blog-view-all {
  text-align: center;
  margin-top: 1.5rem;
}

.blog-link {
  color: var(--ink-brown);
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 500;
  transition: color 0.2s ease;
}

.blog-link:hover {
  color: var(--ink-black);
}

/* Footer Contact Info - shows on smaller screens */
.footer-contact {
  display: none;
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(0,0,0,0.1);
}

.footer-contact-item {
  font-size: 0.8rem;
  color: var(--ink-brown);
  margin-bottom: 0.3rem;
  line-height: 1.3;
}

.footer-contact-item strong {
  color: var(--ink-black);
  font-weight: 700;
  display: block;
  margin-bottom: 0.25rem;
}

.footer-contact-link {
  color: var(--ink-brown);
  text-decoration: underline;
  text-decoration-color: var(--ink-brown);
  text-decoration-thickness: 1.5px;
  text-underline-offset: 2px;
  transition: all 0.2s ease;
  font-weight: 600;
  display: inline-block;
  margin-top: 0.25rem;
}

.footer-contact-link:hover {
  color: var(--ink-black);
  text-decoration-color: var(--ink-black);
  text-decoration-thickness: 2px;
}

/* Show footer contact on smaller screens with better layout */
@media (max-width: 1200px) and (min-width: 900px) {
  /* Medium screens: keep horizontal but show contact */
  .footer-contact {
    display: block !important;
    margin-top: 0;
    padding-top: 0;
    border-top: none;
    margin-left: 2rem;
  }
  
  .footer-left {
    gap: 2rem;
  }
}

@media (max-width: 899px) and (min-width: 600px) {
  /* Smaller tablet screens: stack vertically but show contact */
  .footer-contact {
    display: block !important;
  }

  .footer-left {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }

  .footer-text {
    margin-bottom: 0.5rem;
  }
  
  .footer-contact {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(0,0,0,0.1);
  }
}

@media (max-width: 599px) {
  /* Mobile: hide footer contact to keep it clean */
  .footer-contact {
    display: none !important;
  }
  
  .footer-left {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }
}

.contact-panel {
  background-color: rgba(244, 241, 234, 0.92);
  display: none; /* Hidden by default on mobile */
}

.contact-content {
  max-width: 600px;
  margin: 0 auto;
  text-align: center;
  background: linear-gradient(135deg, rgba(244, 241, 234, 0.98) 0%, rgba(244, 241, 234, 0.96) 100%);
  border: 2px solid rgba(180, 160, 120, 0.5);
  padding: 2.5rem 2rem;
  box-shadow: 
    3px 3px 0 rgba(0,0,0,0.06),
    6px 6px 18px rgba(0,0,0,0.1);
  position: relative;
  transform: rotate(-0.5deg);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Push pin effect */
.contact-content::before {
  content: '';
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 20px;
  background: radial-gradient(circle at 30% 30%, #d4af37, #b8941f);
  border-radius: 50% 50% 50% 0;
  box-shadow: 
    inset -2px -2px 4px rgba(0,0,0,0.2),
    0 3px 6px rgba(0,0,0,0.3);
  z-index: 10;
  transform: translateX(-50%) rotate(45deg);
}

/* Pin shadow on card */
.contact-content::after {
  content: '';
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 10px;
  height: 10px;
  background: radial-gradient(circle, rgba(0,0,0,0.15), transparent);
  border-radius: 50%;
  filter: blur(2px);
}

.contact-content:hover {
  transform: rotate(0deg) translateY(-3px);
  box-shadow: 
    0 5px 0 rgba(0,0,0,0.06),
    0 10px 25px rgba(0,0,0,0.15);
}

.contact-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--ink-black);
  margin-bottom: 1rem;
  font-family: var(--font-serif);
  text-transform: uppercase;
  letter-spacing: 1px;
  border-bottom: 2px solid rgba(180, 160, 120, 0.3);
  padding-bottom: 0.75rem;
  display: inline-block;
}

.contact-description {
  font-size: 0.95rem;
  line-height: 1.6;
  color: var(--ink-brown);
  margin-bottom: 1.5rem;
  font-style: italic;
}

.contact-details {
  margin-bottom: 2rem;
  background-color: rgba(244, 241, 234, 0.5);
  padding: 1.25rem;
  border: 1px dashed rgba(180, 160, 120, 0.4);
  border-radius: 2px;
}

.contact-item {
  font-size: 0.9rem;
  color: var(--ink-brown);
  margin-bottom: 0.5rem;
  line-height: 1.5;
}

.contact-item strong {
  color: var(--ink-black);
  font-weight: 600;
}

.contact-email {
  font-family: var(--font-mono);
  background-color: rgba(244, 241, 234, 0.6);
  padding: 0.15rem 0.5rem;
  border-radius: 2px;
  font-size: 0.85rem;
}

.contact-link {
  color: var(--ink-brown);
  text-decoration: underline;
  transition: color 0.2s ease;
}

.contact-link:hover {
  color: var(--ink-black);
}

.contact-cta {
  margin-top: 1.5rem;
}

.contact-full-link {
  color: var(--ink-brown);
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 500;
  transition: all 0.2s ease;
  border-bottom: 2px solid rgba(180, 160, 120, 0.3);
  padding-bottom: 2px;
}

.contact-full-link:hover {
  color: var(--ink-black);
  border-bottom-color: var(--ink-black);
}

/* ========================================
   11. CONDITIONAL VISIBILITY - Blog & Contact
   ======================================== */

/* Show blog and contact sections on large screens */
@media (min-width: 1200px) {
  .blog-section {
    display: block;
  }
  
  .contact-panel {
    display: block;
  }

  .contact-content {
    max-width: 450px;
    padding: 2rem;
  }

  .contact-title {
    font-size: 1.3rem;
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
  }

  .contact-description {
    font-size: 0.9rem;
    margin-bottom: 1rem;
  }

  .contact-details {
    padding: 1.25rem;
    margin-bottom: 1.5rem;
  }

  .contact-item {
    font-size: 0.85rem;
    margin-bottom: 0.25rem;
  }

  .contact-email {
    font-size: 0.8rem;
  }

  .contact-full-link {
    font-size: 0.85rem;
  }
}


/* ========================================
   9. RESPONSIVE BREAKPOINTS - Systematic
   ======================================== */

/* Large Desktop (1200px+) - Default styles above */

/* Medium Desktop & Tablet Landscape (900px - 1199px) */
@media (max-width: 1199px) {
  .hero-title {
    font-size: 3rem;
  }
  
  .hero-content {
    gap: 2.5rem;
  }
  
  .overgrown-specimen {
    --flower-height: 280vh; /* Slightly shorter flower */
  }
  
  /* Place visible sticky notes in right column for 2-col layout */
  .expertise-box.sticky-note:nth-child(1) {
    grid-column: 2;
  }
  
  .expertise-box.sticky-note:nth-child(3) {
    grid-column: 2;
  }
  
  .expertise-box.sticky-note:nth-child(4) {
    grid-column: 2;
  }
}

/* Switch to single column at wider breakpoint (1150px and below) */
@media (max-width: 1150px) {
  .home-wrapper {
    grid-template-columns: 
      [full-start] minmax(15px, 1fr)
      [content-start] minmax(0, 1400px)
      [content-end] minmax(15px, 1fr)
      [full-end];
  }
  
  .hero-section {
    min-height: 85vh;
    padding: 1rem 1.5rem; /* Reduce top/bottom padding */
    margin: 0 0; /* No top margin in single column - as high as possible */
  }
  
  .hero-content {
    padding-top: 0; /* Remove any top padding from content */
  }
  
  .hero-content {
    grid-template-columns: 1fr; /* Switch to single column */
    gap: 0; /* No gap - let flower and text overlap */
    text-align: center;
  }
  
  .specimen-display {
    display: none; /* Hide in single column - flower overlaps text directly */
  }
  
  .hero-text {
    grid-column: 1 / -1;
    padding: 2rem;
    background-color: rgba(244, 241, 234, 0.98); /* More opaque for readability */
  }

  .hero-title {
    font-size: 2.5rem;
  }
  
  .hero-subtitle {
    font-size: 1rem;
    margin: 0 auto;
  }
  
  /* Already in single column from 1000px breakpoint */
  /* Just adjust spacing and sizing for smaller screens */
  
  .hero-section {
    padding: 0.75rem 1rem; /* Less vertical padding */
    margin: 0 0; /* No top margin - keep high on page */
  }
  
  .hero-text {
    padding: 1.75rem;
  }
  
  .hero-title {
    font-size: 2.3rem;
  }
  
  .hero-subtitle {
    font-size: 0.95rem;
  }
  
  /* Specimen display already hidden from 1000px breakpoint */
  
  /* Single column grid for expertise */
  .expertise-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  /* Reset grid-column for single-column layout */
  .expertise-box.sticky-note:nth-child(1),
  .expertise-box.sticky-note:nth-child(3),
  .expertise-box.sticky-note:nth-child(4) {
    grid-column: auto;
  }
  
  /* Hide the invisible box in single-column layout */
  .expertise-box-invisible {
    display: none;
  }
  
  /* Reduce section padding */
  .expertise-section,
  .publications-section,
  .blog-section,
  .contact-panel {
    padding: 3rem 1.5rem;
    margin: 1rem 0;
  }
  
  /* Single column layout - flower positioning */
  .overgrown-specimen {
    --flower-height: 220vh;
    --flower-horizontal-offset: 0%; /* Center on mobile */
    top: 15vh; /* Keep consistent positioning */
    /* Opacity controlled by width-based media query above */
  }
}

/* Mobile Portrait (600px and below) */
@media (max-width: 600px) {
  .home-wrapper {
    grid-template-columns: 
      [full-start] minmax(10px, 1fr)
      [content-start] minmax(0, 1400px)
      [content-end] minmax(10px, 1fr)
      [full-end];
  }
  
  .hero-section {
    padding: 0.5rem 0.75rem; /* Less vertical padding on mobile */
    margin: 0 0; /* No top margin on mobile */
  }
  
  /* specimen-display already hidden from 1000px breakpoint */
  
  .hero-text {
    padding: 1.5rem;
  }
  
  .hero-title {
    font-size: 2.2rem;
  }
  
  .hero-subtitle {
    font-size: 0.95rem;
  }
  
  .section-title {
    font-size: 1.2rem;
  }
  
  .expertise-section,
  .publications-section,
  .blog-section,
  .contact-panel {
    padding: 2.5rem 1rem;
    margin: 0.75rem 0;
  }
  
  .expertise-icon {
    width: 110px;
    height: 110px;
  }
  
  /* More opaque backgrounds for readability */
  .hero-text,
  .expertise-section,
  .publications-section,
  .blog-section,
  .contact-panel {
    background-color: rgba(244, 241, 234, 0.98);
  }
  
  .overgrown-specimen {
    --flower-height: 200vh;
    --flower-horizontal-offset: 0%;
    top: 15vh; /* Keep consistent positioning */
    /* Opacity controlled by width-based media query above */
  }
}

/* Small Mobile (480px and below) */
@media (max-width: 480px) {
  .hero-section {
    min-height: 80vh;
    padding: 0.5rem;
    margin: 0.25rem 0; /* Consistent minimal top margin */
  }
  
  /* specimen-display already hidden from 1000px breakpoint */
  
  .hero-text {
    padding: 1.25rem;
  }
  
  .hero-title {
    font-size: 2rem;
  }
  
  .hero-subtitle {
    font-size: 0.9rem;
  }
  
  .section-title {
    font-size: 1.1rem;
  }
  
  .expertise-section,
  .publications-section,
  .blog-section,
  .contact-panel {
    padding: 2rem 0.75rem;
  }
  
  .expertise-icon {
    width: 100px;
    height: 100px;
  }
  
  .overgrown-specimen {
    --flower-height: 180vh;
    --flower-horizontal-offset: 0%;
    top: 15vh; /* Keep consistent positioning */
    /* Opacity controlled by width-based media query above */
  }
}

/* ========================================
   10. SCROLL ARROW - Positioned in Hero
   ======================================== */

.scroll-arrow {
  position: absolute;
  bottom: 3rem; /* Higher up so it's visible */
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  z-index: 10;
  animation: bounce 2s infinite;
  transition: opacity 0.3s ease;
}

.scroll-arrow:hover {
  opacity: 0.8;
}

.scroll-arrow-icon {
  width: 40px;
  height: 40px;
  background-color: rgba(244, 241, 234, 0.95);
  border: 2px solid rgba(180, 160, 120, 0.6);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
}

.scroll-arrow-icon svg {
  color: var(--ink-brown);
  transition: transform 0.3s ease;
}

.scroll-arrow:hover .scroll-arrow-icon svg {
  transform: translateY(2px);
}

.scroll-arrow-text {
  font-size: 0.8rem;
  color: var(--ink-brown);
  font-family: var(--font-mono);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  background-color: rgba(244, 241, 234, 0.95);
  padding: 0.25rem 0.75rem;
  border-radius: 12px;
  border: 1px solid rgba(180, 160, 120, 0.4);
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  white-space: nowrap;
}

/* Bounce animation */
@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateX(-50%) translateY(0);
  }
  40% {
    transform: translateX(-50%) translateY(-10px);
  }
  60% {
    transform: translateX(-50%) translateY(-5px);
  }
}

/* Responsive scroll arrow */
@media (max-width: 768px) {
  .scroll-arrow {
    bottom: 2.5rem; /* Higher up on mobile */
  }

  .scroll-arrow-icon {
    width: 36px;
    height: 36px;
  }

  .scroll-arrow-icon svg {
    width: 20px;
    height: 20px;
  }

  .scroll-arrow-text {
    font-size: 0.75rem;
    padding: 0.2rem 0.6rem;
  }
}

@media (max-width: 480px) {
  .scroll-arrow {
    bottom: 2rem; /* Higher up on small mobile */
  }

  .scroll-arrow-icon {
    width: 32px;
    height: 32px;
  }

  .scroll-arrow-icon svg {
    width: 18px;
    height: 18px;
  }

  .scroll-arrow-text {
    font-size: 0.7rem;
    padding: 0.15rem 0.5rem;
  }
}

/* ========================================
   MODAL BODY SCROLL PREVENTION
   ======================================== */

body.modal-open {
  overflow: hidden;
}

/* ========================================
   RESEARCH MODAL STYLES - From research.css
   ======================================== */

/* Pop-up Panel Overlay */
.panel-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  padding: 2rem;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Notebook Panel */
.panel-notebook {
  background-color: var(--paper-white);
  background-image:
    repeating-linear-gradient(
      transparent,
      transparent 31px,
      rgba(61, 51, 40, 0.1) 31px,
      rgba(61, 51, 40, 0.1) 32px
    ),
    linear-gradient(
      to right,
      rgba(194, 178, 128, 0.3) 0,
      rgba(194, 178, 128, 0.3) 60px,
      transparent 60px
    );
  max-width: 800px;
  width: 100%;
  max-height: 80vh;
  overflow-y: auto;
  padding: 3rem 3rem 3rem 5rem;
  border: 2px solid var(--brown-text);
  box-shadow:
    0 10px 40px rgba(0,0,0,0.3),
    inset 0 0 0 1px rgba(255,255,255,0.5);
  position: relative;
  animation: slideUp 0.4s ease;
}

@keyframes slideUp {
  from {
    transform: translateY(50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Notebook spiral holes effect */
.panel-notebook::before {
  content: '';
  position: absolute;
  left: 20px;
  top: 2rem;
  bottom: 2rem;
  width: 20px;
  background-image: repeating-linear-gradient(
    transparent,
    transparent 28px,
    rgba(61, 51, 40, 0.2) 28px,
    rgba(61, 51, 40, 0.2) 36px
  );
}

.panel-close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: none;
  border: none;
  font-size: 2.5rem;
  color: var(--ink-brown);
  cursor: pointer;
  line-height: 1;
  padding: 0;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color 0.2s ease;
}

.panel-close:hover {
  color: var(--ink-black);
}

.panel-content {
  font-family: var(--font-body);
  color: var(--ink-brown);
}

.panel-content h2 {
  font-family: var(--font-serif);
  font-size: 2rem;
  color: var(--ink-black);
  margin-bottom: 1.5rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--ink-black);
}

.panel-content p {
  font-size: 1.1rem;
  line-height: 1.8;
  margin-bottom: 1.5rem;
  color: var(--ink-brown);
}

/* Responsive modal styles */
@media (max-width: 768px) {
  .panel-notebook {
    padding: 2rem 2rem 2rem 4rem;
    margin: 1rem;
  }

  .panel-content h2 {
    font-size: 1.5rem;
  }

  .panel-content p {
    font-size: 1rem;
  }
}

@media (max-width: 600px) {
  .panel-notebook {
    padding: 1.5rem 1.5rem 1.5rem 3rem;
    margin: 0.5rem;
  }

  .panel-content h2 {
    font-size: 1.3rem;
  }

  .panel-content p {
    font-size: 0.95rem;
  }
}


